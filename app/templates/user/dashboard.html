{% extends 'base.html' %}

{% block title %}User Dashboard{% endblock %}

{% block content %}
    <h1>User Dashboard</h1>

    <section>
        <h2>Welcome, {{ user.username }}!</h2>
        <p>Here you can manage your account and contact details.</p>
    </section>

    <section>
        <h2>Account Details</h2>
        <form id="accountForm">
            <!-- Display user account details -->
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" value="{{ user.username }}" readonly>
            
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="{{ user.email }}" readonly>
            
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" value="********" readonly>

            <!-- Add other account details as needed -->

            <!-- Edit button to enable editing -->
            <button type="button" onclick="enableEditing('accountForm')">Edit</button>
        </form>
    </section>

    <section>
        <h2>Contact Details</h2>
        <form id="contactForm">
            <!-- Display user contact details -->
            <label for="phoneNumber">Phone Number:</label>
            <input type="text" id="phoneNumber" name="phoneNumber" value="{{ contact_details.phone_number }}" readonly>
            
            <label for="address">Address:</label>
            <textarea id="address" name="address" readonly>{{ contact_details.address }}</textarea>
            
            <!-- Add other contact details as needed -->

            <!-- Edit button to enable editing -->
            <button type="button" onclick="enableEditing('contactForm')">Edit</button>
        </form>
    </section>

    <!-- Add additional content or features as needed -->

    <script>
        function enableEditing(formId) {
            var form = document.getElementById(formId);
            var inputs = form.getElementsByTagName('input');
            var textareas = form.getElementsByTagName('textarea');

            for (var i = 0; i < inputs.length; i++) {
                inputs[i].removeAttribute('readonly');
            }

            for (var i = 0; i < textareas.length; i++) {
                textareas[i].removeAttribute('readonly');
            }
        }
    </script>

{% endblock %}
